<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR Dashboard - Leave Management System</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="animated-bg">
        <div class="circle circle-1"></div>
        <div class="circle circle-2"></div>
        <div class="circle circle-3"></div>
        <div class="circle circle-4"></div>
    </div>

    <div class="dashboard-container">
        <nav class="navbar">
            <div class="navbar-brand">
                <i class="fas fa-briefcase"></i>
                <span>Leave Management - HR</span>
            </div>
            <div class="navbar-menu">
                <div class="nav-item active" onclick="showDashboardSection('hrHome', event)">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </div>
                <div class="nav-item" onclick="showDashboardSection('manageLeaves', event)">
                    <i class="fas fa-tasks"></i>
                    <span>Manage Leaves</span>
                </div>
                <div class="nav-item" onclick="showDashboardSection('employeeList', event)">
                    <i class="fas fa-users"></i>
                    <span>Employees</span>
                </div>
                <div class="nav-item logout-btn" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </div>
            </div>
        </nav>

        <div class="dashboard-content">
            <!-- HR Home Section -->
            <div id="hrHomeSection" class="page-section active">
                <div class="section-header">
                    <h2><i class="fas fa-home"></i> HR Home</h2>
                    <p>Welcome to your dashboard</p>
                </div>
                <div class="card">
                    <p>Overview and quick stats will appear here.</p>
                </div>
                <div class="card profile-card">
                    <div class="profile-info">
                        <div class="info-row">
                            <div class="info-icon"><i class="fas fa-user"></i></div>
                            <div class="info-content">
                                <span class="info-label">Full Name</span>
                                <span class="info-value" id="hrName">HR Name</span>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="info-icon"><i class="fas fa-envelope"></i></div>
                            <div class="info-content">
                                <span class="info-label">Email</span>
                                <span class="info-value" id="hrEmail">hr@example.com</span>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="info-icon"><i class="fas fa-building"></i></div>
                            <div class="info-content">
                                <span class="info-label">Department</span>
                                <span class="info-value" id="hrDepartment">HR</span>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="info-icon"><i class="fas fa-id-badge"></i></div>
                            <div class="info-content">
                                <span class="info-label">User ID</span>
                                <span class="info-value" id="hrId">HR001</span>
                            </div>
                        </div>
                        <div class="info-row">
                            <div class="info-icon"><i class="fas fa-user-shield"></i></div>
                            <div class="info-content">
                                <span class="info-label">Role</span>
                                <span class="info-value" id="hrRole">Manager</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Manage Leaves Section -->
            <div id="manageLeavesSection" class="page-section">
                <div class="section-header">
                    <h2><i class="fas fa-tasks"></i> Manage Leaves</h2>
                    <p>Approve or reject leave requests from employees</p>
                </div>
                <div class="leave-cards" id="hrLeaveRequests">
                    <!-- Leave requests will be dynamically loaded here -->
                </div>
            </div>

            <!-- Employee List Section -->
            <div id="employeeListSection" class="page-section">
                <div class="section-header">
                    <h2><i class="fas fa-users"></i> Employee List</h2>
                    <p>View and manage employee information</p>
                </div>
                <div class="card">
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th><i class="fas fa-id-badge"></i> Employee ID</th>
                                    <th><i class="fas fa-user"></i> Name</th>
                                    <th><i class="fas fa-envelope"></i> Email</th>
                                    <th><i class="fas fa-building"></i> Department</th>
                                    <th><i class="fas fa-info-circle"></i> Status</th>
                                </tr>
                            </thead>
                            <tbody id="hrEmployeeTableBody">
                                <!-- Employee list will be populated dynamically -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Section Switching Script -->
    <script>
        function showDashboardSection(section, event) {
            const sections = document.querySelectorAll('.page-section');
            sections.forEach(s => s.classList.remove('active'));

            const navItems = document.querySelectorAll('.navbar-menu .nav-item');
            navItems.forEach(nav => nav.classList.remove('active'));

            document.getElementById(section + 'Section').classList.add('active');
            event.currentTarget.classList.add('active');
        }
    </script>

    <!-- New HR Dashboard JS -->
    <script src="/static/script.js"></script>
    <script>
document.addEventListener("DOMContentLoaded", () => {
  // Handle approve buttons
  document.querySelectorAll(".btn-approve").forEach(btn => {
    btn.addEventListener("click", () => {
      const leaveCard = btn.closest(".leave-card");
      const statusBadge = leaveCard.querySelector(".status-badge");
      
      // Update badge
      statusBadge.textContent = "Approved";
      statusBadge.classList.remove("pending", "rejected");
      statusBadge.classList.add("approved");

      // Optional: update card border color
      leaveCard.classList.remove("pending", "rejected");
      leaveCard.classList.add("approved");
    });
  });

  // Handle reject buttons
  document.querySelectorAll(".btn-reject").forEach(btn => {
    btn.addEventListener("click", () => {
      const leaveCard = btn.closest(".leave-card");
      const statusBadge = leaveCard.querySelector(".status-badge");
      
      // Update badge
      statusBadge.textContent = "Rejected";
      statusBadge.classList.remove("pending", "approved");
      statusBadge.classList.add("rejected");

      // Optional: update card border color
      leaveCard.classList.remove("pending", "approved");
      leaveCard.classList.add("rejected");
    });
  });
});
</script>

</body>
</html>
